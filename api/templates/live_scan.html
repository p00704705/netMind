{% extends "base.html" %}

{% block title %}Live Scan Results for {{ subnet }}{% endblock %}

{% block content %}
  <h2>Live Scan Results for {{ subnet }}</h2>

  <form class="row g-3 mb-4" method="get" action="/live_ip_scan">
    <div class="col-auto">
      <input class="form-control" type="text" name="subnet" placeholder="Enter subnet (e.g. 192.168.1.0/24)" required>
    </div>
    <div class="col-auto">
      <button class="btn btn-primary" type="submit">Run Live Scan</button>
    </div>
  </form>

  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        {% for header in headers %}
        <th>{{ header }}</th>
        {% endfor %}
      </tr>
    </thead>
<tbody>
  {% for row in rows %}
  <tr>
    <td>{{ row.ip }}</td>
    <td>{{ row.mac }}</td>
    <td>{{ row.vendor }}</td>
    <td>{{ row.packet_loss }}</td>
    <td>{{ row.avg_latency }}</td>
  </tr>
  {% endfor %}
</tbody>
{% endblock %}
